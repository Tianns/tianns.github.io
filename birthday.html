<html lang="zh-CN"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生日快乐弹窗特效</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        birthday: {
                            pink: '#FF6B8B',
                            yellow: '#FFD166',
                            blue: '#118AB2',
                            green: '#06D6A0',
                            purple: '#9381FF'
                        }
                    },
                    fontFamily: {
                        celebration: ['"Comic Sans MS"', '"Marker Felt"', 'cursive']
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            }
            .animate-float {
                animation: float 3s ease-in-out infinite;
            }
            .popup-animation {
                animation: popup 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards,
                           float 3s ease-in-out infinite,
                           fadeOut 3s ease-in forwards 2s;
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }
        
        @keyframes popup {
            0% { transform: scale(0) rotate(0deg); opacity: 0; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        
        @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-pink-50 to-purple-50 min-h-screen flex items-center justify-center overflow-hidden">
    <!-- 音效元素 (隐藏) -->
    <audio id="popup-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-bell-notification-933.mp3" type="audio/mpeg">
       您的浏览器不支持音频元素。
    </audio>
    <audio id="celebration-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3" type="audio/mpeg">
       您的浏览器不支持音频元素。
    </audio>

    <!-- 中心按钮 -->
    <div class="text-center z-10">
        <button id="celebrate-btn" class="bg-birthday-pink hover:bg-pink-600 text-white font-celebration text-[clamp(1.5rem,5vw,3rem)] py-6 px-12 rounded-full shadow-2xl transform transition-all duration-300 hover:scale-110 hover:rotate-3 active:scale-95">
            <i class="fa fa-gift mr-3"></i>点击看看
        </button>
        <p class="mt-6 text-gray-600 font-celebration text-lg">妈妈生日快乐，祝你健健康康，天天开心！</p>
    </div>

    <!-- 装饰元素 -->
    <div class="fixed top-10 left-10 text-birthday-yellow text-5xl animate-float opacity-70">
        <i class="fa fa-star"></i>
    </div>
    <div class="fixed bottom-20 right-10 text-birthday-blue text-4xl animate-float opacity-70" style="animation-delay: 0.5s">
        <i class="fa fa-heart"></i>
    </div>
    <div class="fixed top-1/3 right-1/4 text-birthday-green text-6xl animate-float opacity-70" style="animation-delay: 1s">
        <i class="fa fa-smile-o"></i>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const celebrateBtn = document.getElementById('celebrate-btn');
            const popupSound = document.getElementById('popup-sound');
            const celebrationSound = document.getElementById('celebration-sound');
            const colors = [
                'bg-birthday-pink',
                'bg-birthday-yellow',
                'bg-birthday-blue',
                'bg-birthday-green',
                'bg-birthday-purple',
                'bg-red-400',
                'bg-indigo-400',
                'bg-orange-400'
            ];
            
            // 点击按钮生成满屏弹窗
            celebrateBtn.addEventListener('click', () => {
                // 播放初始庆祝音效
                celebrationSound.currentTime = 0;
                celebrationSound.play().catch(e => {
                    console.log("音频播放需要用户交互:", e);
                });
                
                // 改变按钮状态
                celebrateBtn.disabled = true;
                celebrateBtn.innerHTML = '<i class="fa fa-party-horn mr-3"></i>庆祝中...';
                celebrateBtn.classList.remove('bg-birthday-pink', 'hover:bg-pink-600');
                celebrateBtn.classList.add('bg-gray-400', 'cursor-not-allowed', 'hover:scale-100', 'hover:rotate-0');
                
                // 生成一圈圈的弹窗（从最外圈左边开始严格逆时针）
                createCircularPopups();
                
                // 5秒后恢复按钮
                setTimeout(() => {
                    celebrateBtn.disabled = false;
                    celebrateBtn.innerHTML = '<i class="fa fa-gift mr-3"></i>再来一次';
                    celebrateBtn.classList.remove('bg-gray-400', 'cursor-not-allowed', 'hover:scale-100', 'hover:rotate-0');
                    celebrateBtn.classList.add('bg-birthday-pink', 'hover:bg-pink-600');
                }, 5000);
            });
            
            // 创建一圈圈的弹窗（从最外圈左边开始严格逆时针）
            function createCircularPopups() {
                const centerX = window.innerWidth / 2;
                const centerY = window.innerHeight / 2;
                const rings = 5; // 圈数
                const popupsPerRing = 24; // 每圈的弹窗数量
                const startRadius = 50; // 起始半径
                const radiusIncrement = 80; // 每圈增加的半径
                
                let totalPopups = 0;
                
                // 从外到内创建每一圈（先最外圈，再内圈）
                for(let ring = rings - 1; ring >= 0; ring--) {
                    const radius = startRadius + (ring * radiusIncrement);
                    
                    // 在当前圈上创建弹窗，从左边开始严格逆时针方向
                    for(let i = 0; i < popupsPerRing; i++) {
                        // 计算角度（从左边开始，严格逆时针方向）
                        const angle = Math.PI - (i / popupsPerRing) * Math.PI * 2;
                        
                        // 计算位置
                        const x = centerX + radius * Math.cos(angle);
                        const y = centerY + radius * Math.sin(angle);
                        
                        // 延迟创建，形成从外到内、每圈从左开始逆时针出现的效果
                        setTimeout(() => {
                            createPopup(x, y);
                            // 播放弹窗音效，控制频率避免过于嘈杂
                            if (totalPopups % 3 === 0) {
                                popupSound.currentTime = 0;
                                popupSound.play().catch(e => {
                                    console.log("音频播放需要用户交互:", e);
                                });
                            }
                        }, totalPopups * 30);
                        
                        totalPopups++;
                    }
                }
            }
            
            // 创建单个弹窗 - 21:9比例的长方形
            function createPopup(x, y) {
                const popup = document.createElement('div');
                
                // 21:9比例的长方形
                const width = window.innerWidth < 768 ? 105 : 168; // 宽度
                const height = window.innerWidth < 768 ? 45 : 72;  // 高度（保持21:9比例）
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                // 设置样式
                popup.className = `fixed rounded-lg shadow-xl p-2 ${color} text-white font-celebration popup-animation flex items-center justify-center`;
                popup.style.width = `${width}px`;
                popup.style.height = `${height}px`;
                popup.style.left = `${x}px`;
                popup.style.top = `${y}px`;
                popup.style.transform = 'translate(-50%, -50%)';
                popup.style.fontSize = window.innerWidth < 768 ? '14px' : '18px'; // 适配文字大小
                popup.style.zIndex = '100';
                
                // 设置内容
                popup.textContent = '生日快乐';
                
                // 添加到页面
                document.body.appendChild(popup);
                
                // 5秒后移除弹窗
                setTimeout(() => {
                    if(popup.parentNode) {
                        popup.parentNode.removeChild(popup);
                    }
                }, 5000);
            }
        });
    </script>

</body></html>
